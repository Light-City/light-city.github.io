3:I[726,[],""]
5:I[334,[],""]
6:I[1995,["241","static/chunks/241-090afcbbc91120b4.js","82","static/chunks/82-21796b14c402b9d6.js","185","static/chunks/app/layout-cee6ead71a3d3707.js"],"ThemeProviders"]
7:I[1139,["241","static/chunks/241-090afcbbc91120b4.js","82","static/chunks/82-21796b14c402b9d6.js","185","static/chunks/app/layout-cee6ead71a3d3707.js"],""]
8:I[1802,["241","static/chunks/241-090afcbbc91120b4.js","82","static/chunks/82-21796b14c402b9d6.js","185","static/chunks/app/layout-cee6ead71a3d3707.js"],"KBarSearchProvider"]
9:I[4241,["241","static/chunks/241-090afcbbc91120b4.js","797","static/chunks/app/blog/%5B...slug%5D/page-11061fcd89c3312f.js"],""]
a:I[644,["241","static/chunks/241-090afcbbc91120b4.js","82","static/chunks/82-21796b14c402b9d6.js","185","static/chunks/app/layout-cee6ead71a3d3707.js"],"KBarButton"]
b:I[162,["241","static/chunks/241-090afcbbc91120b4.js","82","static/chunks/82-21796b14c402b9d6.js","185","static/chunks/app/layout-cee6ead71a3d3707.js"],""]
c:I[8474,["241","static/chunks/241-090afcbbc91120b4.js","82","static/chunks/82-21796b14c402b9d6.js","185","static/chunks/app/layout-cee6ead71a3d3707.js"],""]
4:["slug","iterator","c"]
0:["Be7n0qxsm9vWOdCSMD4KE",[[["",{"children":["blog",{"children":[["slug","iterator","c"],{"children":["__PAGE__?{\"slug\":[\"iterator\"]}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["blog",{"children":[["slug","iterator","c"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c1c99bc127b9f571.css","precedence":"next","crossOrigin":""}]]}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","blog","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"en-us","className":"__variable_587f35 scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/safari-pinned-tab.svg","color":"#5bbad5"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fff"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white text-black antialiased dark:bg-gray-950 dark:text-white","children":[["$","script",null,{"async":true,"src":"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2567493227444081","crossOrigin":"anonymous"}],["$","$L6",null,{"children":[["$undefined","$undefined","$undefined",["$","$L7",null,{"async":true,"defer":true,"data-website-id":"$undefined","src":"https://analytics.umami.is/script.js"}],[["$","$L7",null,{"strategy":"afterInteractive","src":"https://www.googletagmanager.com/gtag/js?id=G-9LC7S6B5J9"}],["$","$L7",null,{"strategy":"afterInteractive","id":"ga-script","children":"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', 'G-9LC7S6B5J9');\n        "}]]],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":["$","div",null,{"className":"flex h-screen flex-col justify-between font-sans","children":[["$","$L8",null,{"kbarConfig":{"searchDocumentsPath":"search.json"},"children":[["$","header",null,{"className":"flex items-center justify-between py-10","children":[["$","div",null,{"children":["$","$L9",null,{"href":"/","aria-label":"CPlusPlusThings","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","xmlnsXlink":"http://www.w3.org/1999/xlink","width":53.87,"height":43.61,"viewBox":"344.564 330.278 111.737 91.218","children":[["$","defs",null,{"children":[["$","linearGradient",null,{"id":"logo_svg__b","x1":420.97,"x2":420.97,"y1":331.28,"y2":418.5,"gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"offset":"0%","style":{"stopColor":"#06b6d4","stopOpacity":1}}],["$","stop",null,{"offset":"100%","style":{"stopColor":"#67e8f9","stopOpacity":1}}]]}],["$","linearGradient",null,{"id":"logo_svg__d","x1":377.89,"x2":377.89,"y1":331.28,"y2":418.5,"gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"offset":"0%","style":{"stopColor":"#06b6d4","stopOpacity":1}}],["$","stop",null,{"offset":"100%","style":{"stopColor":"#67e8f9","stopOpacity":1}}]]}],["$","path",null,{"id":"logo_svg__a","d":"M453.3 331.28v28.57l-64.66 58.65v-30.08z"}],["$","path",null,{"id":"logo_svg__c","d":"M410.23 331.28v28.57l-64.67 58.65v-30.08z"}]]}],["$","use",null,{"xlinkHref":"#logo_svg__a","fill":"url(#logo_svg__b)"}],["$","use",null,{"xlinkHref":"#logo_svg__c","fill":"url(#logo_svg__d)"}]]}]}],["$","div",null,{"className":"hidden h-6 text-2xl font-semibold sm:block","children":"CPlusPlusThings"}]]}]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:space-x-6","children":[[["$","$L9",null,{"href":"/stories_things","className":"hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"C++"}],["$","$L9",null,{"href":"/projects","className":"hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"Projects"}],["$","$L9",null,{"href":"/blog","className":"hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"Blog"}],["$","$L9",null,{"href":"/tags","className":"hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"Tags"}],["$","$L9",null,{"href":"/about","className":"hidden font-medium text-gray-900 dark:text-gray-100 sm:block","children":"About"}]],["$","$La",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","$Lb",null,{}],["$","$Lc",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6","children":[["$","div",null,{"className":"space-x-2 pb-8 pt-6 md:space-y-5","children":["$","h1",null,{"className":"text-6xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 md:border-r-2 md:px-6 md:text-8xl md:leading-14","children":"404"}]}],["$","div",null,{"className":"max-w-md","children":[["$","p",null,{"className":"mb-4 text-xl font-bold leading-normal md:text-2xl","children":"Sorry we couldn't find this page."}],["$","p",null,{"className":"mb-8","children":"But dont worry, you can find plenty of other things on our homepage."}],["$","$L9",null,{"href":"/","className":"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium leading-5 text-white shadow transition-colors duration-150 hover:bg-blue-700 focus:outline-none dark:hover:bg-blue-500","children":"Back to homepage"}]]}]]}],"notFoundStyles":[],"styles":null}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-16 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:455954986@qq.com","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6","children":[["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/Light-City","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6","children":["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]}]]}]]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":"light-city"}],["$","div",null,{"children":" • "}],["$","div",null,{"children":"© 2024"}],["$","div",null,{"children":" • "}],["$","$L9",null,{"href":"/","children":"CPlusPlusThings"}]]}]]}]}]]}]}]]}]]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/c2fa761ca4164606.css","precedence":"next","crossOrigin":""}]],"$Ld"]]]]
e:I[2628,["241","static/chunks/241-090afcbbc91120b4.js","797","static/chunks/app/blog/%5B...slug%5D/page-11061fcd89c3312f.js"],""]
f:I[6765,["241","static/chunks/241-090afcbbc91120b4.js","797","static/chunks/app/blog/%5B...slug%5D/page-11061fcd89c3312f.js"],""]
2:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Implementation of a Simple iterator_category in C++ STL Source Code Analysis\",\"datePublished\":\"2024-01-08T00:00:00.000Z\",\"dateModified\":\"2024-01-08T00:00:00.000Z\",\"description\":\"An analysis of C++ STL source code to implement a simple iterator_category\",\"image\":\"/static/images/twitter-card.png\",\"url\":\"https://light-city.github.io/blog/iterator\",\"author\":[{\"@type\":\"Person\",\"name\":\"light-city\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$Le",null,{}],["$","article",null,{"children":["$","div",null,{"className":"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700","children":[["$","header",null,{"className":"pt-6 xl:pb-6","children":["$","div",null,{"className":"space-y-1 text-center","children":[["$","dl",null,{"className":"space-y-10","children":["$","div",null,{"children":[["$","dt",null,{"className":"sr-only","children":"Published on"}],["$","dd",null,{"className":"text-base font-medium leading-6 text-gray-500 dark:text-gray-400","children":["$","time",null,{"dateTime":"2024-01-08T00:00:00.000Z","children":"Monday, January 8, 2024"}]}]]}]}],["$","div",null,{"children":["$","h1",null,{"className":"text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14","children":"Implementation of a Simple iterator_category in C++ STL Source Code Analysis"}]}]]}]}],["$","div",null,{"className":"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0","children":[["$","dl",null,{"className":"pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700","children":[["$","dt",null,{"className":"sr-only","children":"Authors"}],["$","dd",null,{"children":["$","ul",null,{"className":"flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8","children":[["$","li","light-city",{"className":"flex items-center space-x-2","children":[["$","img",null,{"src":"/static/images/avatar.png","width":38,"height":38,"alt":"avatar","className":"h-10 w-10 rounded-full"}],["$","dl",null,{"className":"whitespace-nowrap text-sm font-medium leading-5","children":[["$","dt",null,{"className":"sr-only","children":"Name"}],["$","dd",null,{"className":"text-gray-900 dark:text-gray-100","children":"light-city"}]]}]]}]]}]}]]}],["$","div",null,{"className":"divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0","children":["$","div",null,{"className":"prose max-w-none pb-8 pt-10 dark:prose-invert","children":[["$","h1",null,{"id":"implementation-of-a-simple-iterator_category-in-c-stl-source-code-analysis","children":[["$","a",null,{"href":"#implementation-of-a-simple-iterator_category-in-c-stl-source-code-analysis","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"Implementation of a Simple iterator_category in C++ STL Source Code Analysis"]}],["$","details",null,{"open":true,"children":[["$","summary",null,{"className":"ml-6 pb-2 pt-2 text-xl font-bold","children":"Table of Contents"}],["$","div",null,{"className":"ml-6","children":["$","ul",null,{"className":"","children":[["$","li","0",{"children":[["$","a",null,{"href":"#implementation-of-a-simple-iterator_category-in-c-stl-source-code-analysis","children":"Implementation of a Simple iterator_category in C++ STL Source Code Analysis"}],["$","ul",null,{"className":"","children":[["$","li","0",{"children":[["$","a",null,{"href":"#0-introduction-1","children":"0. Introduction"}],null]}],["$","li","1",{"children":[["$","a",null,{"href":"#1-implementing-a-simple-iterator_category-recognition-using-type-traits","children":"1. Implementing a Simple iterator_category Recognition Using Type Traits"}],null]}],["$","li","2",{"children":[["$","a",null,{"href":"#2-stl-source-code-analysis-of-iterator","children":"2. STL Source Code Analysis of Iterator"}],null]}]]}]]}]]}]}]]}],["$","h2",null,{"id":"0-introduction","children":[["$","a",null,{"href":"#0-introduction","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"0. Introduction"]}],["$","p",null,{"children":"In this section, we will use the Traits feature introduced in the previous section to study the iterator source code, implementing a simple iterator_category, while also analyzing the structure of the iterator's source code."}],["$","p",null,{"children":["$","strong",null,{"children":"Know the facts, know the reasons, and there are no secrets in front of the source code!"}]}],["$","h2",null,{"id":"1-implementing-a-simple-iterator_category-recognition-using-type-traits","children":[["$","a",null,{"href":"#1-implementing-a-simple-iterator_category-recognition-using-type-traits","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"1. Implementing a Simple iterator_category Recognition Using Type Traits"]}],["$","p",null,{"children":"As mentioned in the previous section, iterators play a vital role, as illustrated in the following diagram:"}],["$","p",null,{"children":["$","img",null,{"alt":"Iterator Diagram","src":"https://raw.githubusercontent.com/Light-City/cloudimg/master/rela.png"}]}],["$","p",null,{"children":"Iterators are abstractions of pointers to elements in a sequence. By using iterators, we can access elements in a sequence, modify the values of elements, move the iterator forward or backward, and so on."}],["$","p",null,{"children":"There are commonly five types of iterators: value_type, difference_type, reference_type, pointer_type, all of which can be easily extracted in traits and corresponding partial specializations."}],["$","p",null,{"children":"However, there are generally also five iterator categories, which can lead to a large-scale code engineering effort."}],["$","ul",null,{"children":[["$","li",null,{"children":"Input Iterator: Read-only iterator for single-pass traversal."}],["$","li",null,{"children":"Output Iterator: Write-only iterator for single-pass traversal."}],["$","li",null,{"children":"Forward Iterator: Read-write iterator for single-pass traversal."}],["$","li",null,{"children":"Bidirectional Iterator: Read-write iterator for bidirectional traversal."}],["$","li",null,{"children":"Random Access Iterator: Read-write iterator for random access traversal."}]]}],["$","p",null,{"children":["For example, if we implement ",["$","code",null,{"children":"advanceII"}],", ",["$","code",null,{"children":"advanceBI"}],", ",["$","code",null,{"children":"advanceRAI"}]," representing implementations corresponding to the types Input Iterator, Bidirectional Iterator, and Random Access Iterator, respectively:"]}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"Iterator",["$","span",null,{"className":"token operator","children":"&"}]," i",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"is_random_access_iterator"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token function","children":"advanceRAI"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":","}],"n",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"is_bidirectional_iterator"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token function","children":"advanceBI"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":","}],"n",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"else"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token function","children":"advanceII"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":","}],"n",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"However, deciding which version to use at runtime will affect program efficiency. It is better to select the correct version at compile time."}],["$","p",null,{"children":["The mechanism of ",["$","strong",null,{"children":"overloading"}]," functions can achieve this goal."]}],["$","p",null,{"children":["For ",["$","code",null,{"children":"advanceXX()"}]," functions, both function parameters are undefined types (because they are template parameters). To make them have the same name and form overloaded functions, we must add a determined type as a function parameter. This allows the function overloading mechanism to work effectively."]}],["$","p",null,{"children":["The design is as follows: if the ",["$","strong",null,{"children":"traits"}]," have the ability to extract the category of the iterator, we can use this \"iterator type\" as the third parameter of ",["$","code",null,{"children":"advancexx"}],", and this corresponding type must be a class type, not just a numerical value, because the compiler relies on it for ",["$","strong",null,{"children":"overload resolution"}],"."]}],["$","p",null,{"children":"Let's implement it. First, here's an overall structure diagram:"}],["$","p",null,{"children":["$","img",null,{"alt":"Iterator Structure","src":"https://raw.githubusercontent.com/Light-City/cloudimg/master/itera.png"}]}],["$","p",null,{"children":"Define the following tags:"}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"input_iterator_tag"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"output_iterator_tag"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"forward_iterator_tag"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token base-clause","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name","children":"input_iterator_tag"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"bidirectional_iterator_tag"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token base-clause","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name","children":"forward_iterator_tag"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"random_access_iterator_tag"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token base-clause","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name","children":"bidirectional_iterator_tag"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// The benefit of inheritance is that when a function needs to use input_iterator_tag"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// and you pass in a forward_iterator_tag, it will traverse the inheritance chain until it finds a match."}],"\n"]}]]}]}],["$","p",null,{"children":["After declaring a series of tags, we can overload the ",["$","code",null,{"children":"advance"}]," function. We denote these functions using underscores to indicate that they are used internally and are not visible externally."]}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// The benefit of inheritance is that when a function needs to use input_iterator_tag"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// and you pass in a forward_iterator_tag, it will traverse the inheritance chain until it finds a match."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// input iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"inputIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"inputIterator",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      input_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"input tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// output iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"outputIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"outputIterator",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      output_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"output tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// forward iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"ForwardIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"ForwardIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      forward_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"forward tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// bidirectional iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"BidirectionalIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"BidirectionalIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      bidirectional_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"bidirectional tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// RandomAccess iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"RandomAccessIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"RandomAccessIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      random_access_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"random access tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"Define the trait:"}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// traits type"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"I"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"I"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category iterator_category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Specialization for native pointers"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"I"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"I ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"typedef"}]," random_access_iterator_tag iterator_category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"I"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"const"}]," I ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"typedef"}]," random_access_iterator_tag iterator_category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":"Expose the interface:"}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// External interface"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"InputIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"InputIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// Inquire about the iterator's iterator_category through Iterator_traits"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"InputIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":","}]," n",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token function","children":"category"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// Overloads for each category"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"Define the class type:"}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// class type"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Category"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"iterator"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"typedef"}]," Category iterator_category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":"Start testing. We use the class type defined above and native pointers for testing, entering the ordinary extraction machine and the specialized extraction machine to see if we get the corresponding tags."}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"int"}]," ",["$","span",null,{"className":"token function","children":"main"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"input_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," input",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"output_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," output",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"forward_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," forward",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"bidirectional_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," bidirectional",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"random_access_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," random_access",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"input",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"output",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"forward",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"bidirectional",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"random_access",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"int"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"p ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"nullptr"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"p",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"Output:"}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":"input tag\n"}],["$","span",null,{"className":"code-line","children":"output tag\n"}],["$","span",null,{"className":"code-line","children":"forward tag\n"}],["$","span",null,{"className":"code-line","children":"bidirectional tag\n"}],["$","span",null,{"className":"code-line","children":"random access tag\n"}],["$","span",null,{"className":"code-line","children":"random access tag\n"}]]}]}],["$","p",null,{"children":"As expected, through the extraction machine, we obtain the tags for each iterator and the tag for native pointers."}],["$","p",null,{"children":["Let's make it a bit more complex. If we want to know the return type of ",["$","code",null,{"children":"advance"}],", how can we do that?"]}],["$","p",null,{"children":["First, modify the return of ",["$","code",null,{"children":"advance"}],":"]}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// External interface"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"InputIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"InputIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"InputIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// Inquire about the iterator's iterator_category through Iterator_traits"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"InputIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"i",["$","span",null,{"className":"token punctuation","children":","}]," n",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token function","children":"category"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// Overloads for each category"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Next, modify the return of ",["$","code",null,{"children":"__advance"}],":"]}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// input iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"inputIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],"inputIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"inputIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          input_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"input tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"input_iterator_tag"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// output iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"outputIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"outputIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"outputIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          output_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"output tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"output_iterator_tag"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// forward iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"ForwardIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"ForwardIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"ForwardIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          forward_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"forward tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"forward_iterator_tag"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// bidirectional iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"BidirectionalIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"BidirectionalIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"BidirectionalIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          bidirectional_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"bidirectional tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"bidirectional_iterator_tag"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// RandomAccess iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"RandomAccessIterator"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Distance"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"Iterator_traits"}],["$","span",null,{"className":"token operator","children":"<"}],"RandomAccessIterator",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"__advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"RandomAccessIterator ",["$","span",null,{"className":"token operator","children":"&"}],"i",["$","span",null,{"className":"token punctuation","children":","}]," Distance n",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          random_access_iterator_tag",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"cout ",["$","span",null,{"className":"token operator","children":"<<"}]," ",["$","span",null,{"className":"token string","children":"\"random access tag\""}]," ",["$","span",null,{"className":"token operator","children":"<<"}]," std",["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"endl",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"random_access_iterator_tag"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["Just change ",["$","code",null,{"children":"void"}]," to the respective extraction machine."]}],["$","p",null,{"children":"Finally, test the modification, adding the return:"}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"int"}]," ",["$","span",null,{"className":"token function","children":"main"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"input_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," input",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"output_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," output",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"forward_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," forward",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"bidirectional_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," bidirectional",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    iterator",["$","span",null,{"className":"token operator","children":"<"}],"random_access_iterator_tag",["$","span",null,{"className":"token operator","children":">"}]," random_access",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    input_iterator_tag inputIteratorTag ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"input",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    output_iterator_tag outputIteratorTag ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"output",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    forward_iterator_tag forwardIteratorTag ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"forward",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    bidirectional_iterator_tag bidirectionalIteratorTag ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"bidirectional",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    random_access_iterator_tag randomAccessIteratorTag ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"random_access",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"int"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"p ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"nullptr"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    random_access_iterator_tag v ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"advance"}],["$","span",null,{"className":"token punctuation","children":"("}],"p",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"With this, a simple iterator type determination at compile time is complete."}],["$","h2",null,{"id":"2-stl-source-code-analysis-of-iterator","children":[["$","a",null,{"href":"#2-stl-source-code-analysis-of-iterator","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"icon icon-link"}]}],"2. STL Source Code Analysis of Iterator"]}],["$","p",null,{"children":["In ",["$","code",null,{"children":"bits/stl_iterator_base_types.h"}],", it is essentially as shown above (in fact, the above is a simplified version of the STL source code, very close to it), let's take a look together."]}],["$","p",null,{"children":["(1) ",["$","code",null,{"children":"tag"}]]}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token comment","children":"///  Marking input iterators."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"input_iterator_tag"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"///  Marking output iterators."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"output_iterator_tag"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// Forward iterators support a superset of input iterator operations."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"forward_iterator_tag"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token base-clause","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name","children":"input_iterator_tag"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// Bidirectional iterators support a superset of forward iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// operations."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"bidirectional_iterator_tag"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token base-clause","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name","children":"forward_iterator_tag"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// Random-access iterators support a superset of bidirectional"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// iterator operations."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"random_access_iterator_tag"}]," ",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token base-clause","children":[["$","span",null,{"className":"token keyword","children":"public"}]," ",["$","span",null,{"className":"token class-name","children":"bidirectional_iterator_tag"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":"Similar to what we used above."}],["$","p",null,{"children":["(2) ",["$","code",null,{"children":"iterator_traits"}]," extraction machine, which contains five types in STL, while above we implemented only one: ",["$","code",null,{"children":"iterator_category"}],". Therefore, in the STL, the bridge between containers and algorithms, the iterator, must include the following five typedefs."]}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Iterator"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"iterator_traits"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Iterator"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"iterator_category iterator_category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Iterator"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"value_type        value_type",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Iterator"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"difference_type   difference_type",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Iterator"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"pointer           pointer",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Iterator"}],["$","span",null,{"className":"token punctuation double-colon","children":"::"}],"reference         reference",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":["(3) ",["$","code",null,{"children":"iterator"}]]}],["$","p",null,{"children":"The class type mentioned above is a simplified version of the following, compared to it, there is not much difference, just that the template parameters are more, and there are more typedefs."}],["$","$Lf",null,{"className":"language-cpp","children":["$","code",null,{"className":"language-cpp code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"template"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Category"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Tp"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Distance"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ptrdiff_t",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["       ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Pointer"}]," ",["$","span",null,{"className":"token operator","children":"="}]," _Tp",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"typename"}]," ",["$","span",null,{"className":"token class-name","children":"_Reference"}]," ",["$","span",null,{"className":"token operator","children":"="}]," _Tp",["$","span",null,{"className":"token operator","children":"&"}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"iterator"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// One of the @link iterator_tags tag types@endlink."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," _Category  iterator_category",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// The type \"pointed to\" by the iterator."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," _Tp        value_type",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// Distance between iterators is represented as this type."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," _Distance  difference_type",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// This type represents a pointer-to-value_type."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," _Pointer   pointer",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"/// This type represents a reference-to-value_type."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"typedef"}]," _Reference reference",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":["With this, the analysis of iterators and trait features is complete. Welcome to explore the mysteries of the STL source code together, as Mr. Hou Jie said: ",["$","strong",null,{"children":"There are no secrets in front of the source code."}]]}]]}]}],["$","footer",null,{"children":[["$","div",null,{"className":"divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y","children":[["$","div",null,{"className":"py-4 xl:py-8","children":[["$","h2",null,{"className":"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400","children":"Tags"}],["$","div",null,{"className":"flex flex-wrap","children":[["$","$L9",null,{"href":"/tags/c","className":"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":"C++"}],["$","$L9",null,{"href":"/tags/stl","className":"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":"STL"}],["$","$L9",null,{"href":"/tags/source-code-analysis","className":"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":"Source-Code-Analysis"}]]}]]}],["$","div",null,{"className":"flex justify-between py-4 xl:block xl:space-y-8 xl:py-8","children":[["$","div",null,{"children":[["$","h2",null,{"className":"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400","children":"Previous Article"}],["$","div",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":["$","$L9",null,{"href":"/blog/list","children":"In-depth Analysis of C++ STL Source Code: Doubly Linked Circular List (list)"}]}]]}],["$","div",null,{"children":[["$","h2",null,{"className":"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400","children":"Next Article"}],["$","div",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":["$","$L9",null,{"href":"/blog/array","children":"C++ STL Source Code Analysis: tr1 and std array"}]}]]}]]}]]}],["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L9",null,{"href":"/blog","className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","aria-label":"Back to the blog","children":"← Back to the blog"}]}]]}]]}]]}]}]]}]]
d:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Implementation of a Simple iterator_category in C++ STL Source Code Analysis | CPlusPlusThings"}],["$","meta","3",{"name":"description","content":"An analysis of C++ STL source code to implement a simple iterator_category"}],["$","meta","4",{"name":"robots","content":"index, follow"}],["$","meta","5",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","6",{"rel":"canonical","href":"https://light-city.github.io/blog/iterator"}],["$","link","7",{"rel":"alternate","type":"application/rss+xml","href":"https://light-city.github.io/feed.xml"}],["$","meta","8",{"property":"og:title","content":"Implementation of a Simple iterator_category in C++ STL Source Code Analysis"}],["$","meta","9",{"property":"og:description","content":"An analysis of C++ STL source code to implement a simple iterator_category"}],["$","meta","10",{"property":"og:url","content":"https://light-city.github.io/blog/iterator"}],["$","meta","11",{"property":"og:site_name","content":"CPlusPlusThings"}],["$","meta","12",{"property":"og:locale","content":"en_US"}],["$","meta","13",{"property":"og:image","content":"https://light-city.github.io/static/images/twitter-card.png"}],["$","meta","14",{"property":"og:type","content":"article"}],["$","meta","15",{"property":"article:published_time","content":"2024-01-08T00:00:00.000Z"}],["$","meta","16",{"property":"article:modified_time","content":"2024-01-08T00:00:00.000Z"}],["$","meta","17",{"property":"article:author","content":"light-city"}],["$","meta","18",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","19",{"name":"twitter:title","content":"Implementation of a Simple iterator_category in C++ STL Source Code Analysis"}],["$","meta","20",{"name":"twitter:description","content":"An analysis of C++ STL source code to implement a simple iterator_category"}],["$","meta","21",{"name":"twitter:image","content":"https://light-city.github.io/static/images/twitter-card.png"}],["$","meta","22",{"name":"next-size-adjust"}]]
1:null
